<UserControl x:Class="FrontLayer.WPF.Views.StatisticsView"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 
			 xmlns:system="clr-namespace:System;assembly=mscorlib"
			 xmlns:converter="clr-namespace:FrontLayer.WPF.Converters"
			 xmlns:classes="clr-namespace:ModelLayer.Classes;assembly=ModelLayer"
			 xmlns:manager="clr-namespace:LogicLayer.Manager;assembly=LogicLayer"
			 DataContext="{x:Static manager:ViewModelManager.Statistics}"
			 x:Name="ControlRoot">

	<!-- ItemsControl To Iterate over each Date, which gets used in the Goals-->
	<ItemsControl ItemsSource="{Binding Dates}" >
		<ItemsControl.ItemTemplate>
			<DataTemplate>
				<Grid x:Name="DateRoot">
					<Grid.RowDefinitions>
						<RowDefinition Height="*"/>
						<RowDefinition Height="Auto"/>
					</Grid.RowDefinitions>

					<TextBlock Text="{Binding StringFormat={}{0:dd.MM.yy}}" Grid.Row="1"/>
					<GroupBox Grid.Row="0">
						<ItemsControl ItemsSource="{Binding ElementName=ControlRoot, Path=DataContext.Categories}">
							<ItemsControl.ItemTemplate>
								<DataTemplate DataType="{x:Type classes:Category}">

									<TextBlock>
										<TextBlock.Text>
											<MultiBinding StringFormat="{}{0}" Converter="{converter:ConverterDateOnCategoryToTime}">
												<Binding/>
												<Binding ElementName="DateRoot" Path="DataContext"/>
											</MultiBinding>
										</TextBlock.Text>
										<TextBlock.LayoutTransform>
											<RotateTransform>
												<RotateTransform.Angle>
													90
												</RotateTransform.Angle>
											</RotateTransform>
										</TextBlock.LayoutTransform>
									</TextBlock>

								</DataTemplate>
							</ItemsControl.ItemTemplate>
							<!-- A DockPanel as the Panel to Dock all Columns next to each other -->
							<ItemsControl.ItemsPanel>
								<ItemsPanelTemplate>
									<DockPanel LastChildFill="False"/>
								</ItemsPanelTemplate>
							</ItemsControl.ItemsPanel>
						</ItemsControl>
					</GroupBox>
				</Grid>
				
			</DataTemplate>
		</ItemsControl.ItemTemplate>
		<!-- A DockPanel as the Panel to Dock all Date-Groups next to each other -->
		<ItemsControl.ItemsPanel>
			<ItemsPanelTemplate>
				<DockPanel LastChildFill="False"/>
			</ItemsPanelTemplate>
		</ItemsControl.ItemsPanel>
	</ItemsControl>
	

</UserControl>
